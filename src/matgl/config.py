"""Global configuration variables for matgl."""

from __future__ import annotations

import os
import shutil
from pathlib import Path

# Default set of elements supported by universal matgl models.
DEFAULT_ELEMENTS = (
    "H",
    "He",
    "Li",
    "Be",
    "B",
    "C",
    "N",
    "O",
    "F",
    "Ne",
    "Na",
    "Mg",
    "Al",
    "Si",
    "P",
    "S",
    "Cl",
    "Ar",
    "K",
    "Ca",
    "Sc",
    "Ti",
    "V",
    "Cr",
    "Mn",
    "Fe",
    "Co",
    "Ni",
    "Cu",
    "Zn",
    "Ga",
    "Ge",
    "As",
    "Se",
    "Br",
    "Kr",
    "Rb",
    "Sr",
    "Y",
    "Zr",
    "Nb",
    "Mo",
    "Tc",
    "Ru",
    "Rh",
    "Pd",
    "Ag",
    "Cd",
    "In",
    "Sn",
    "Sb",
    "Te",
    "I",
    "Xe",
    "Cs",
    "Ba",
    "La",
    "Ce",
    "Pr",
    "Nd",
    "Pm",
    "Sm",
    "Eu",
    "Gd",
    "Tb",
    "Dy",
    "Ho",
    "Er",
    "Tm",
    "Yb",
    "Lu",
    "Hf",
    "Ta",
    "W",
    "Re",
    "Os",
    "Ir",
    "Pt",
    "Au",
    "Hg",
    "Tl",
    "Pb",
    "Bi",
    "Ac",
    "Th",
    "Pa",
    "U",
    "Np",
    "Pu",
)

# Default set of species from the ICSD supported by universal matgl-species models
ICSD_SPECIES = (
    "H-",
    "H+",
    "H2+",
    "H3+",
    "Li+",
    "Be2+",
    "B5-",
    "B3-",
    "B2-",
    "B-",
    "B+",
    "B2+",
    "B3+",
    "C4-",
    "C3-",
    "C2-",
    "C-",
    "C+",
    "C2+",
    "C3+",
    "C4+",
    "N5-",
    "N4-",
    "N3-",
    "N2-",
    "N-",
    "N+",
    "N2+",
    "N3+",
    "N4+",
    "N5+",
    "O3-",
    "O2-",
    "O-",
    "O+",
    "O2+",
    "F-",
    "F+",
    "F2+",
    "Na-",
    "Na+",
    "Mg2+",
    "Mg3+",
    "Al3-",
    "Al+",
    "Al2+",
    "Al3+",
    "Si4-",
    "Si3-",
    "Si2-",
    "Si-",
    "Si+",
    "Si2+",
    "Si3+",
    "Si4+",
    "P4-",
    "P3-",
    "P2-",
    "P-",
    "P+",
    "P2+",
    "P3+",
    "P4+",
    "P5+",
    "P6+",
    "S3-",
    "S2-",
    "S-",
    "S+",
    "S2+",
    "S3+",
    "S4+",
    "S5+",
    "S6+",
    "Cl4-",
    "Cl-",
    "Cl+",
    "Cl2+",
    "Cl3+",
    "Cl4+",
    "Cl5+",
    "Cl7+",
    "K+",
    "Ca-",
    "Ca+",
    "Ca2+",
    "Sc+",
    "Sc2+",
    "Sc3+",
    "Sc5+",
    "Sc6+",
    "Ti+",
    "Ti2+",
    "Ti3+",
    "Ti4+",
    "Ti5+",
    "Ti6+",
    "V+",
    "V2+",
    "V3+",
    "V4+",
    "V5+",
    "V6+",
    "Cr+",
    "Cr2+",
    "Cr3+",
    "Cr4+",
    "Cr5+",
    "Cr6+",
    "Mn-",
    "Mn+",
    "Mn2+",
    "Mn3+",
    "Mn4+",
    "Mn5+",
    "Mn6+",
    "Mn7+",
    "Fe4-",
    "Fe2-",
    "Fe-",
    "Fe+",
    "Fe2+",
    "Fe3+",
    "Fe4+",
    "Fe5+",
    "Fe6+",
    "Co-",
    "Co+",
    "Co2+",
    "Co3+",
    "Co4+",
    "Co5+",
    "Ni2-",
    "Ni+",
    "Ni2+",
    "Ni3+",
    "Ni4+",
    "Cu+",
    "Cu2+",
    "Cu3+",
    "Cu4+",
    "Zn+",
    "Zn2+",
    "Zn3+",
    "Zn4+",
    "Ga4-",
    "Ga3-",
    "Ga2-",
    "Ga-",
    "Ga+",
    "Ga2+",
    "Ga3+",
    "Ga4+",
    "Ge4-",
    "Ge3-",
    "Ge2-",
    "Ge-",
    "Ge+",
    "Ge2+",
    "Ge3+",
    "Ge4+",
    "Ge5+",
    "As5-",
    "As3-",
    "As2-",
    "As-",
    "As+",
    "As2+",
    "As3+",
    "As4+",
    "As5+",
    "Se2-",
    "Se-",
    "Se+",
    "Se2+",
    "Se3+",
    "Se4+",
    "Se5+",
    "Se6+",
    "Se8+",
    "Br-",
    "Br+",
    "Br3+",
    "Br4+",
    "Br5+",
    "Br7+",
    "Kr2+",
    "Rb-",
    "Rb+",
    "Rb2+",
    "Sr2-",
    "Sr2+",
    "Sr4+",
    "Y+",
    "Y2+",
    "Y3+",
    "Y4+",
    "Zr+",
    "Zr2+",
    "Zr3+",
    "Zr4+",
    "Zr6+",
    "Nb+",
    "Nb2+",
    "Nb3+",
    "Nb4+",
    "Nb5+",
    "Nb6+",
    "Mo-",
    "Mo+",
    "Mo2+",
    "Mo3+",
    "Mo4+",
    "Mo5+",
    "Mo6+",
    "Mo7+",
    "Tc+",
    "Tc2+",
    "Tc3+",
    "Tc4+",
    "Tc5+",
    "Tc6+",
    "Tc7+",
    "Ru4-",
    "Ru3-",
    "Ru2-",
    "Ru-",
    "Ru+",
    "Ru2+",
    "Ru3+",
    "Ru4+",
    "Ru5+",
    "Ru6+",
    "Ru7+",
    "Ru8+",
    "Rh-",
    "Rh+",
    "Rh2+",
    "Rh3+",
    "Rh4+",
    "Rh5+",
    "Rh6+",
    "Pd+",
    "Pd2+",
    "Pd3+",
    "Pd4+",
    "Ag+",
    "Ag2+",
    "Ag3+",
    "Ag4+",
    "Cd+",
    "Cd2+",
    "In3-",
    "In2-",
    "In-",
    "In+",
    "In2+",
    "In3+",
    "In4+",
    "Sn4-",
    "Sn3-",
    "Sn2-",
    "Sn-",
    "Sn+",
    "Sn2+",
    "Sn3+",
    "Sn4+",
    "Sb3-",
    "Sb2-",
    "Sb-",
    "Sb+",
    "Sb2+",
    "Sb3+",
    "Sb4+",
    "Sb5+",
    "Sb6+",
    "Te3-",
    "Te2-",
    "Te-",
    "Te+",
    "Te2+",
    "Te3+",
    "Te4+",
    "Te5+",
    "Te6+",
    "I2-",
    "I-",
    "I+",
    "I3+",
    "I5+",
    "I7+",
    "Xe2+",
    "Xe3+",
    "Xe4+",
    "Xe6+",
    "Xe8+",
    "Cs+",
    "Ba+",
    "Ba2+",
    "La+",
    "La2+",
    "La3+",
    "La4+",
    "Ce-",
    "Ce+",
    "Ce2+",
    "Ce3+",
    "Ce4+",
    "Pr+",
    "Pr2+",
    "Pr3+",
    "Pr4+",
    "Nd+",
    "Nd2+",
    "Nd3+",
    "Nd4+",
    "Nd5+",
    "Pm3+",
    "Sm+",
    "Sm2+",
    "Sm3+",
    "Sm4+",
    "Eu+",
    "Eu2+",
    "Eu3+",
    "Eu4+",
    "Eu5+",
    "Eu6+",
    "Gd+",
    "Gd2+",
    "Gd3+",
    "Gd4+",
    "Tb+",
    "Tb2+",
    "Tb3+",
    "Tb4+",
    "Tb5+",
    "Dy2+",
    "Dy3+",
    "Dy4+",
    "Dy5+",
    "Dy6+",
    "Ho2+",
    "Ho3+",
    "Ho4+",
    "Ho5+",
    "Ho6+",
    "Er2+",
    "Er3+",
    "Er4+",
    "Er5+",
    "Er6+",
    "Tm2+",
    "Tm3+",
    "Tm4+",
    "Yb2+",
    "Yb3+",
    "Yb4+",
    "Lu2+",
    "Lu3+",
    "Lu4+",
    "Hf+",
    "Hf2+",
    "Hf3+",
    "Hf4+",
    "Ta+",
    "Ta2+",
    "Ta3+",
    "Ta4+",
    "Ta5+",
    "Ta6+",
    "Ta7+",
    "W+",
    "W2+",
    "W3+",
    "W4+",
    "W5+",
    "W6+",
    "W7+",
    "Re-",
    "Re+",
    "Re2+",
    "Re3+",
    "Re4+",
    "Re5+",
    "Re6+",
    "Re7+",
    "Os+",
    "Os2+",
    "Os3+",
    "Os4+",
    "Os5+",
    "Os6+",
    "Os7+",
    "Os8+",
    "Ir-",
    "Ir+",
    "Ir2+",
    "Ir3+",
    "Ir4+",
    "Ir5+",
    "Ir6+",
    "Pt2-",
    "Pt+",
    "Pt2+",
    "Pt3+",
    "Pt4+",
    "Pt5+",
    "Pt6+",
    "Au-",
    "Au+",
    "Au2+",
    "Au3+",
    "Au4+",
    "Au5+",
    "Hg+",
    "Hg2+",
    "Hg4+",
    "Tl2-",
    "Tl-",
    "Tl+",
    "Tl2+",
    "Tl3+",
    "Tl5+",
    "Pb4-",
    "Pb-",
    "Pb+",
    "Pb2+",
    "Pb3+",
    "Pb4+",
    "Bi3-",
    "Bi2-",
    "Bi-",
    "Bi+",
    "Bi2+",
    "Bi3+",
    "Bi4+",
    "Bi5+",
    "Po2-",
    "Po2+",
    "Po4+",
    "Ra2+",
    "Ac3+",
    "Th2+",
    "Th3+",
    "Th4+",
    "Th5+",
    "Th6+",
    "Pa2+",
    "Pa3+",
    "Pa4+",
    "Pa5+",
    "U3-",
    "U+",
    "U2+",
    "U3+",
    "U4+",
    "U5+",
    "U6+",
    "Np-",
    "Np2+",
    "Np3+",
    "Np4+",
    "Np5+",
    "Np6+",
    "Np7+",
    "Pu2+",
    "Pu3+",
    "Pu4+",
    "Pu5+",
    "Pu6+",
    "Pu7+",
    "Am+",
    "Am2+",
    "Am3+",
    "Am4+",
    "Am5+",
    "Am6+",
    "Cm2+",
    "Cm3+",
    "Cm4+",
    "Bk2+",
    "Bk3+",
    "Bk4+",
    "Cf2+",
    "Cf3+",
    "Cf4+",
    "Cf5+",
    "Cf6+",
    "Es3+",
)

# Default location of the cache for matgl, e.g., for storing downloaded models.
MATGL_CACHE = Path(os.path.expanduser("~")) / ".cache/matgl"
os.makedirs(MATGL_CACHE, exist_ok=True)

# Download url for pre-trained models.
PRETRAINED_MODELS_BASE_URL = "https://github.com/materialsvirtuallab/matgl/raw/main/pretrained_models/"


def clear_cache(confirm: bool = True):
    """Deletes all files in the matgl.cache. This is used to clean out downloaded models.

    Args:
        confirm: Whether to ask for confirmation. Default is True.
    """
    answer = "" if confirm else "y"
    while answer not in ("y", "n"):
        answer = input(f"Do you really want to delete everything in {MATGL_CACHE} (y|n)? ").lower().strip()
    if answer == "y":
        try:
            shutil.rmtree(MATGL_CACHE)
        except FileNotFoundError:
            print(f"matgl cache dir {MATGL_CACHE!r} not found")
